<form class="my-4 mx-3" [formGroup]="beastBlueprintForm" (ngSubmit)="onSubmit()">

  <div class="form-group">
    <label for="name">Name</label>
    <input class="form-control" type="text" formControlName="name" id="name">
  </div>
  <div class="form-group">
    <label for="description">Description</label>
    <textarea class="form-control" formControlName="description" id="description"></textarea>
  </div>
  <div class="form-group">
    <label for="origin">Origin</label>
    <input type="text" class="form-control" formControlName="origin" id="origin">
  </div>
  <div class="form-group mb-3">
    <label for="species">Species</label>
    <input type="text" class="form-control" formControlName="species" id="species">
    <div class="form-check">
      <label for="schooled" class="form-check-label">
        <input type="checkbox" class="form-check-input" formControlName="schooled" id="schooled">Schooled
      </label>
    </div>
  </div>

  <div class="form-row mb-3">

    <div class="col col-3">
      <label for="abilities" class="font-weight-bold">Abilities</label>
      <div id="abilities">
        <app-abilities [parentForm] = "beastBlueprintForm"></app-abilities>
      </div>
    </div>

    <div class="col ml-4">
      <label for="other" class="font-weight-bold">Other</label>
      <div id="other">
        <div class="form-row">
          <div class="col">
            <label for="viability">Viability</label>
          </div>
          <div class="col">
            <input type="text" class="form-control" formControlName="viability" id="viability">
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <label for="viability-bonus">Viability Bonus</label>
          </div>
          <div class="col">
            <input type="text" class="form-control" formControlName="viabilityBonus" id="viability-bonus">
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <label for="manna">Manna</label>
          </div>
          <div class="col">
            <input type="text" class="form-control" formControlName="manna" id="manna">
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <label for="mobility">Mobility</label>
          </div>
          <div class="col d-flex">
            <input type="text" class="form-control" formControlName="mobility" id="mobility">
            <input type="text" class="form-control" disabled>
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <label for="persistence">Persistence</label>
          </div>
          <div class="col d-flex">
            <input type="text" class="form-control" formControlName="persistence" id="persistence">
            <input type="text" class="form-control" disabled>
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <label for="pugnacity">Pugnacity</label>
          </div>
          <div class="col">
            <input type="text" class="form-control" formControlName="pugnacity" id="pugnacity">
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <label for="domestication">Domestication</label>
          </div>
          <div class="col">
            <input type="text" class="form-control" formControlName="domestication" id="domestication">
          </div>
        </div>
      </div>
    </div>

    <div class="col ml-4">
      <label for="combat-values" class="font-weight-bold">Combat values</label>
      <div id="combat-values">
        <app-combat-values [parentForm]="beastBlueprintForm"></app-combat-values>
      </div>
    </div>

  </div>

  <div class="d-flex mb-3">
    <label for="sizes" class="align-self-end mr-2">Sizes</label>
    <div id="sizes" class="btn-group-toggle mx-1" data-toggle="buttons" *ngFor ="let size of getSizes(); let i = index" formArrayName="sizes">
      <label class="btn btn-outline-success" [ngClass]="size.value.status ? 'active' : ''">
        <input type="checkbox" [formControlName]="i" autocomplete="off" (click)="size.value.status = !size.value.status"> {{size.value.name}}
      </label>
    </div>
  </div>

  <div class="d-flex mb-3">
    <label for="vulnerabilities" class="align-self-end mr-2">Vulnerabilities</label>
    <div id="vulnerabilities" class="btn-group-toggle mx-1" data-toggle="buttons" *ngFor ="let vulnerability of getVulnerabilities(); let i = index" formArrayName="vulnerabilities">
      <label class="btn btn-outline-success" [ngClass]="vulnerability.value.status ? 'active' : ''">
        <input type="checkbox" [formControlName]="i" autocomplete="off"
               (click)="vulnerability.setValue('status',!vulnerability.value.status)"
        >{{vulnerability.value.name}}
      </label>
    </div>
  </div>

  <app-inventory [parentForm]="beastBlueprintForm"></app-inventory>

  <app-form-controls></app-form-controls>

</form>
