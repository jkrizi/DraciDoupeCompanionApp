<form class="mx-3 my-4" [formGroup]="weaponBlueprintForm" (ngSubmit)="onSubmit()">

  <app-item-blueprint [parentForm]="weaponBlueprintForm"></app-item-blueprint>

  <div class="mb-3">
    <label for="weapon-family"><button type="button" class="btn btn-success p-0" (click)="addWeaponFamily()">Weapon family +</button></label>
    <select id="weapon-family" class="form-control" formControlName="weaponFamily" (ngModelChange)="adjustView()">
      <option *ngFor="let weaponFamily of weaponFamilyDescriptions" [ngValue]="weaponFamily">{{weaponFamily.name}}</option>
    </select>
  </div>

  <div class="form-row">
    <div class="form-group col-2">
      <label for="attack">Attack</label>
      <input type="text" class="form-control" formControlName="attack" id="attack">
    </div>
    <div class="form-group col-2">
      <label for="hurt">Hurt</label>
      <input type="text" class="form-control" formControlName="hurt" id="hurt">
    </div>
    <div class="form-group col-2">
      <label for="defense">Defense</label>
      <input type="text" class="form-control" formControlName="defense" id="defense">
    </div>
    <div class="form-group col-2">
      <label for="initiativeModifier">Initiative</label>
      <input type="text" class="form-control" formControlName="initiativeModifier" id="initiativeModifier">
    </div>
  </div>
  <div *ngIf="!isMelee"  class="form-row">
    <div class="form-group col-2">
      <label for="short-range">Short range</label>
      <input type="text" class="form-control" formControlName="shortRange" id="short-range">
    </div>
    <div class="form-group col-2">
      <label for="mid-range">Mid range</label>
      <input type="text" class="form-control" formControlName="midRange" id="mid-range">
    </div>
    <div class="form-group col-2">
      <label for="long-range">Long range</label>
      <input type="text" class="form-control" formControlName="longRange" id="long-range">
    </div>
  </div>
  <div *ngIf="isMelee" class="form-row">
    <div class="form-group col-2">
      <label for="min-reach">Min reach</label>
      <input type="text" class="form-control" formControlName="minReach" id="min-reach">
    </div>
    <div class="form-group col-2">
      <label for="max-reach">Max reach</label>
      <input type="text" class="form-control" formControlName="maxReach" id="max-reach">
    </div>
  </div>

  <app-form-controls [editMode]="editMode" (update)="update()" (restore)="restore()" (delete)="delete()" (cancel)="clearForm()"></app-form-controls>

</form>
